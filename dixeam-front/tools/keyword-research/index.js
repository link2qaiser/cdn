

var sugguestion = {    
  Google : {
        property: "google",
        urls: {
            ad: "google.ad",
            ae: "google.ae",
            al: "google.al",
            am: "google.am",
            as: "google.as",
            at: "google.at",
            az: "google.az",
            ba: "google.ba",
            be: "google.be",
            bf: "google.bf",
            bg: "google.bg",
            bi: "google.bi",
            bj: "google.bj",
            bs: "google.bs",
            bt: "google.bt",
            by: "google.by",
            ca: "google.ca",
            cat: "google.cat",
            cd: "google.cd",
            cf: "google.cf",
            cg: "google.cg",
            ch: "google.ch",
            ci: "google.ci",
            cl: "google.cl",
            cm: "google.cm",
            cn: "google.cn",
            ao: "google.co.ao",
            bw: "google.co.bw",
            ck: "google.co.ck",
            cr: "google.co.cr",
            id: "google.co.id",
            il: "google.co.il",
            "in": "google.co.in",
            jp: "google.co.jp",
            ke: "google.co.ke",
            kr: "google.co.kr",
            ls: "google.co.ls",
            ma: "google.co.ma",
            mz: "google.co.mz",
            nz: "google.co.nz",
            th: "google.co.th",
            tz: "google.co.tz",
            ug: "google.co.ug",
            uk: "google.co.uk",
            uz: "google.co.uz",
            ve: "google.co.ve",
            vi: "google.co.vi",
            za: "google.co.za",
            zm: "google.co.zm",
            zw: "google.co.zw",
            us: "google.com",
            af: "google.com.af",
            ag: "google.com.ag",
            ai: "google.com.ai",
            ar: "google.com.ar",
            au: "google.com.au",
            bd: "google.com.bd",
            bh: "google.com.bh",
            bn: "google.com.bn",
            bo: "google.com.bo",
            br: "google.com.br",
            bz: "google.com.bz",
            co: "google.com.co",
            cu: "google.com.cu",
            cy: "google.com.cy",
            "do": "google.com.do",
            ec: "google.com.ec",
            eg: "google.com.eg",
            et: "google.com.et",
            fj: "google.com.fj",
            gh: "google.com.gh",
            gi: "google.com.gi",
            gt: "google.com.gt",
            hk: "google.com.hk",
            jm: "google.com.jm",
            kh: "google.com.kh",
            kw: "google.com.kw",
            lb: "google.com.lb",
            ly: "google.com.ly",
            mm: "google.com.mm",
            mt: "google.com.mt",
            mx: "google.com.mx",
            my: "google.com.my",
            na: "google.com.na",
            nf: "google.com.nf",
            ng: "google.com.ng",
            ni: "google.com.ni",
            np: "google.com.np",
            om: "google.com.om",
            pa: "google.com.pa",
            pe: "google.com.pe",
            pg: "google.com.pg",
            ph: "google.com.ph",
            pk: "google.com.pk",
            pr: "google.com.pr",
            py: "google.com.py",
            qa: "google.com.qa",
            sa: "google.com.sa",
            sb: "google.com.sb",
            sg: "google.com.sg",
            sl: "google.com.sl",
            sv: "google.com.sv",
            tj: "google.com.tj",
            tr: "google.com.tr",
            tw: "google.com.tw",
            ua: "google.com.ua",
            uy: "google.com.uy",
            vc: "google.com.vc",
            vn: "google.com.vn",
            cv: "google.cv",
            cz: "google.cz",
            de: "google.de",
            dj: "google.dj",
            dk: "google.dk",
            dm: "google.dm",
            dz: "google.dz",
            ee: "google.ee",
            es: "google.es",
            fi: "google.fi",
            fm: "google.fm",
            fr: "google.fr",
            ga: "google.ga",
            ge: "google.ge",
            gg: "google.gg",
            gl: "google.gl",
            gm: "google.gm",
            gp: "google.gp",
            gr: "google.gr",
            gy: "google.gy",
            hn: "google.hn",
            hr: "google.hr",
            ht: "google.ht",
            hu: "google.hu",
            ie: "google.ie",
            im: "google.im",
            iq: "google.iq",
            is: "google.is",
            it: "google.it",
            je: "google.je",
            jo: "google.jo",
            kg: "google.kg",
            ki: "google.ki",
            kz: "google.kz",
            la: "google.la",
            li: "google.li",
            lk: "google.lk",
            lt: "google.lt",
            lu: "google.lu",
            lv: "google.lv",
            md: "google.md",
            me: "google.me",
            mg: "google.mg",
            mk: "google.mk",
            ml: "google.ml",
            mn: "google.mn",
            ms: "google.ms",
            mu: "google.mu",
            mv: "google.mv",
            mw: "google.mw",
            ne: "google.ne",
            nl: "google.nl",
            no: "google.no",
            nr: "google.nr",
            nu: "google.nu",
            pl: "google.pl",
            pn: "google.pn",
            ps: "google.ps",
            pt: "google.pt",
            ro: "google.ro",
            rs: "google.rs",
            ru: "google.ru",
            rw: "google.rw",
            sc: "google.sc",
            se: "google.se",
            sh: "google.sh",
            si: "google.si",
            sk: "google.sk",
            sm: "google.sm",
            sn: "google.sn",
            so: "google.so",
            st: "google.st",
            td: "google.td",
            tg: "google.tg",
            tk: "google.tk",
            tl: "google.tl",
            tm: "google.tm",
            tn: "google.tn",
            to: "google.to",
            tt: "google.tt",
            vg: "google.vg",
            vu: "google.vu",
            ws: "google.ws"
        },
        countries: [{
            value: "en-us",
            label: "United States (en)"
        }, {
            value: "en-uk",
            label: "United Kingdom (en)"
        }, {
            value: "en-ca",
            label: "Canada (en)"
        }, {
            value: "en-au",
            label: "Australia (en)"
        }, {
            value: "en-nz",
            label: "New Zealand (en)"
        }, {
            value: "en-ag",
            label: "Antigua and Barbuda (en)"
        }, {
            value: "en-ai",
            label: "Anguilla (en)"
        }, {
            value: "en-as",
            label: "American Samoa (en)"
        }, {
            value: "en-bs",
            label: "Bahamas (en)"
        }, {
            value: "en-bw",
            label: "Botswana (en)"
        }, {
            value: "en-bz",
            label: "Belize (en)"
        }, {
            value: "en-ck",
            label: "Cook Islands (en)"
        }, {
            value: "en-cm",
            label: "Cameroon (en)"
        }, {
            value: "en-dm",
            label: "Dominica (en)"
        }, {
            value: "en-fj",
            label: "Fiji (en)"
        }, {
            value: "en-fm",
            label: "Federated States of Micronesia (en)"
        }, {
            value: "en-gg",
            label: "Guernsey (en)"
        }, {
            value: "en-gh",
            label: "Ghana (en)"
        }, {
            value: "en-gi",
            label: "Gibraltar (en)"
        }, {
            value: "en-gm",
            label: "Gambia (en)"
        }, {
            value: "en-gy",
            label: "Guyana (en)"
        }, {
            value: "en-hk",
            label: "Hong Kong (en)"
        }, {
            value: "en-ie",
            label: "Ireland (en)"
        }, {
            value: "en-il",
            label: "Israel (en)"
        }, {
            value: "en-im",
            label: "Isle of Man (en)"
        }, {
            value: "en-in",
            label: "India (en)"
        }, {
            value: "en-je",
            label: "Jersey (en)"
        }, {
            value: "en-jm",
            label: "Jamaica (en)"
        }, {
            value: "en-ke",
            label: "Kenya (en)"
        }, {
            value: "en-ki",
            label: "Kiribati (en)"
        }, {
            value: "en-kr",
            label: "South Korea (en)"
        }, {
            value: "en-ls",
            label: "Lesotho (en)"
        }, {
            value: "en-ms",
            label: "Montserrat (en)"
        }, {
            value: "en-mt",
            label: "Malta (en)"
        }, {
            value: "en-mu",
            label: "Mauritius (en)"
        }, {
            value: "en-mw",
            label: "Malawi (en)"
        }, {
            value: "en-na",
            label: "Namibia (en)"
        }, {
            value: "en-nf",
            label: "Norfolk Island (en)"
        }, {
            value: "en-ng",
            label: "Nigeria (en)"
        }, {
            value: "en-nr",
            label: "Nauru (en)"
        }, {
            value: "en-nu",
            label: "Niue (en)"
        }, {
            value: "en-pg",
            label: "Papua New Guinea (en)"
        }, {
            value: "en-ph",
            label: "Philippines (en)"
        }, {
            value: "en-pk",
            label: "Pakistan (en)"
        }, {
            value: "en-pn",
            label: "Pitcairn Islands (en)"
        }, {
            value: "en-pr",
            label: "Puerto Rico (en)"
        }, {
            value: "en-rw",
            label: "Rwanda (en)"
        }, {
            value: "en-sb",
            label: "Solomon Islands (en)"
        }, {
            value: "en-sc",
            label: "Seychelles (en)"
        }, {
            value: "en-sg",
            label: "Singapore (en)"
        }, {
            value: "en-sh",
            label: "Saint Helena, Ascension and Tristan da Cunha (en)"
        }, {
            value: "en-sl",
            label: "Sierra Leone (en)"
        }, {
            value: "en-tk",
            label: "Tokelau (en)"
        }, {
            value: "en-to",
            label: "Tonga (en)"
        }, {
            value: "en-tt",
            label: "Trinidad and Tobago (en)"
        }, {
            value: "en-tz",
            label: "Tanzania (en)"
        }, {
            value: "en-ug",
            label: "Uganda (en)"
        }, {
            value: "en-vc",
            label: "Saint Vincent and the Grenadines (en)"
        }, {
            value: "en-vg",
            label: "British Virgin Islands (en)"
        }, {
            value: "en-vi",
            label: "United States Virgin Islands (en)"
        }, {
            value: "en-vu",
            label: "Vanuatu (en)"
        }, {
            value: "en-ws",
            label: "Samoa (en)"
        }, {
            value: "en-za",
            label: "South Africa (en)"
        }, {
            value: "en-zm",
            label: "Zambia (en)"
        }, {
            value: "en-zw",
            label: "Zimbabwe (en)"
        }, {
            value: "de-de",
            label: "Germany (de)"
        }, {
            value: "de-at",
            label: "Austria (de)"
        }, {
            value: "de-ch",
            label: "Switzerland (de)"
        }, {
            value: "de-be",
            label: "Belgium (de)"
        }, {
            value: "de-it",
            label: "Italy (de)"
        }, {
            value: "de-li",
            label: "Liechtenstein (de)"
        }, {
            value: "de-lu",
            label: "Luxembourg (de)"
        }, {
            value: "de-na",
            label: "Namibia (de)"
        }, {
            value: "ru-ru",
            label: "Russia (ru)"
        }, {
            value: "ru-by",
            label: "Belarus (ru)"
        }, {
            value: "ru-kg",
            label: "Kyrgyzstan (ru)"
        }, {
            value: "ru-kz",
            label: "Kazakhstan (ru)"
        }, {
            value: "ru-md",
            label: "Moldova (ru)"
        }, {
            value: "ru-tj",
            label: "Tajikistan (ru)"
        }, {
            value: "fr-fr",
            label: "France (fr)"
        }, {
            value: "fr-ca",
            label: "Canada (fr)"
        }, {
            value: "fr-be",
            label: "Belgium (fr)"
        }, {
            value: "fr-bf",
            label: "Burkina Faso (fr)"
        }, {
            value: "fr-bi",
            label: "Burundi (fr)"
        }, {
            value: "fr-bj",
            label: "Benin (fr)"
        }, {
            value: "fr-cd",
            label: "Democratic Republic of the Congo (fr)"
        }, {
            value: "fr-cf",
            label: "Central African Republic (fr)"
        }, {
            value: "fr-cg",
            label: "Republic of the Congo (fr)"
        }, {
            value: "fr-ch",
            label: "Switzerland (fr)"
        }, {
            value: "fr-ci",
            label: "Ivory Coast (fr)"
        }, {
            value: "fr-cm",
            label: "Cameroon (fr)"
        }, {
            value: "fr-dj",
            label: "Djibouti (fr)"
        }, {
            value: "fr-ga",
            label: "Gabon (fr)"
        }, {
            value: "fr-gp",
            label: "Guadeloupe (fr)"
        }, {
            value: "fr-ht",
            label: "Haiti (fr)"
        }, {
            value: "fr-it",
            label: "Italy (fr)"
        }, {
            value: "fr-lb",
            label: "Lebanon (fr)"
        }, {
            value: "fr-lu",
            label: "Luxembourg (fr)"
        }, {
            value: "fr-mg",
            label: "Madagascar (fr)"
        }, {
            value: "fr-ml",
            label: "Mali (fr)"
        }, {
            value: "fr-mu",
            label: "Mauritius (fr)"
        }, {
            value: "fr-ne",
            label: "Niger (fr)"
        }, {
            value: "fr-rw",
            label: "Rwanda (fr)"
        }, {
            value: "fr-sc",
            label: "Seychelles (fr)"
        }, {
            value: "fr-sn",
            label: "Senegal (fr)"
        }, {
            value: "fr-td",
            label: "Chad (fr)"
        }, {
            value: "fr-tg",
            label: "Togo (fr)"
        }, {
            value: "fr-vu",
            label: "Vanuatu (fr)"
        }, {
            value: "es-es",
            label: "Spain (es)"
        }, {
            value: "es-ar",
            label: "Argentina (es)"
        }, {
            value: "es-bo",
            label: "Bolivia (es)"
        }, {
            value: "es-cl",
            label: "Chile (es)"
        }, {
            value: "es-co",
            label: "Colombia (es)"
        }, {
            value: "es-cr",
            label: "Costa Rica (es)"
        }, {
            value: "es-cu",
            label: "Cuba (es)"
        }, {
            value: "es-do",
            label: "Dominican Republic (es)"
        }, {
            value: "es-ec",
            label: "Ecuador (es)"
        }, {
            value: "es-gt",
            label: "Guatemala (es)"
        }, {
            value: "es-hn",
            label: "Honduras (es)"
        }, {
            value: "es-mx",
            label: "Mexico (es)"
        }, {
            value: "es-ni",
            label: "Nicaragua (es)"
        }, {
            value: "es-pa",
            label: "Panama (es)"
        }, {
            value: "es-pe",
            label: "Peru (es)"
        }, {
            value: "es-pr",
            label: "Puerto Rico (es)"
        }, {
            value: "es-py",
            label: "Paraguay (es)"
        }, {
            value: "es-sv",
            label: "El Salvador (es)"
        }, {
            value: "es-uy",
            label: "Uruguay (es)"
        }, {
            value: "es-ve",
            label: "Venezuela (es)"
        }, {
            value: "ar-ae",
            label: "United Arab Emirates (ar)"
        }, {
            value: "ar-bh",
            label: "Bahrain (ar)"
        }, {
            value: "ar-dj",
            label: "Djibouti (ar)"
        }, {
            value: "ar-dz",
            label: "Algeria (ar)"
        }, {
            value: "ar-eg",
            label: "Egypt (ar)"
        }, {
            value: "ar-iq",
            label: "Iraq (ar)"
        }, {
            value: "ar-jo",
            label: "Jordan (ar)"
        }, {
            value: "ar-kw",
            label: "Kuwait (ar)"
        }, {
            value: "ar-lb",
            label: "Lebanon (ar)"
        }, {
            value: "ar-ly",
            label: "Libya (ar)"
        }, {
            value: "ar-ma",
            label: "Morocco (ar)"
        }, {
            value: "ar-om",
            label: "Oman (ar)"
        }, {
            value: "ar-ps",
            label: "Palestine (ar)"
        }, {
            value: "ar-qa",
            label: "Qatar (ar)"
        }, {
            value: "ar-sa",
            label: "Saudi Arabia (ar)"
        }, {
            value: "ar-so",
            label: "Somalia (ar)"
        }, {
            value: "ar-td",
            label: "Chad (ar)"
        }, {
            value: "ar-tn",
            label: "Tunisia (ar)"
        }, {
            value: "it-ch",
            label: "Switzerland (it)"
        }, {
            value: "it-it",
            label: "Italy (it)"
        }, {
            value: "it-sm",
            label: "San Marino (it)"
        }, {
            value: "nl-nl",
            label: "Netherlands (nl)"
        }, {
            value: "nl-be",
            label: "Belgium (nl)"
        }, {
            value: "ca-ad",
            label: "Andorra (ca)"
        }, {
            value: "ca-es",
            label: "Spain (ca)"
        }, {
            value: "pt-pt",
            label: "Portugal (pt)"
        }, {
            value: "pt-br",
            label: "Brazil (pt)"
        }, {
            value: "fa-af",
            label: "Afghanistan (fa)"
        }, {
            value: "sq-al",
            label: "Albania (sq)"
        }, {
            value: "sq-me",
            label: "Montenegro (sq)"
        }, {
            value: "sm-as",
            label: "American Samoa (sm)"
        }, {
            value: "sm-tk",
            label: "Tokelau (sm)"
        }, {
            value: "sm-ws",
            label: "Samoa (sm)"
        }, {
            value: "az-az",
            label: "Azerbaijan (az)"
        }, {
            value: "bs-ba",
            label: "Bosnia and Herzegovina (bs)"
        }, {
            value: "bs-me",
            label: "Montenegro (bs)"
        }, {
            value: "hr-ba",
            label: "Bosnia and Herzegovina (hr)"
        }, {
            value: "hr-hr",
            label: "Croatia (hr)"
        }, {
            value: "hr-me",
            label: "Montenegro (hr)"
        }, {
            value: "sr-ba",
            label: "Bosnia and Herzegovina (sr)"
        }, {
            value: "sr-me",
            label: "Montenegro (sr)"
        }, {
            value: "sr-rs",
            label: "Serbia (sr)"
        }, {
            value: "bn-bd",
            label: "Bangladesh (bn)"
        }, {
            value: "bg-bg",
            label: "Bulgaria (bg)"
        }, {
            value: "ms-bn",
            label: "Brunei (ms)"
        }, {
            value: "ms-my",
            label: "Malaysia (ms)"
        }, {
            value: "ms-sg",
            label: "Singapore (ms)"
        }, {
            value: "be-by",
            label: "Belarus (be)"
        }, {
            value: "el-cy",
            label: "Cyprus (el)"
        }, {
            value: "el-gr",
            label: "Greece (el)"
        }, {
            value: "tr-cy",
            label: "Cyprus (tr)"
        }, {
            value: "tr-tr",
            label: "Turkey (tr)"
        }, {
            value: "cs-cz",
            label: "Czech Republic (cs)"
        }, {
            value: "da-dk",
            label: "Denmark (da)"
        }, {
            value: "da-gl",
            label: "Greenland (da)"
        }, {
            value: "et-ee",
            label: "Estonia (et)"
        }, {
            value: "eu-es",
            label: "Spain (eu)"
        }, {
            value: "gl-es",
            label: "Spain (gl)"
        }, {
            value: "fi-fi",
            label: "Finland (fi)"
        }, {
            value: "sv-fi",
            label: "Finland (sv)"
        }, {
            value: "sv-se",
            label: "Sweden (sv)"
        }, {
            value: "ka-ge",
            label: "Georgia (ka)"
        }, {
            value: "hu-hu",
            label: "Hungary (hu)"
        }, {
            value: "id-id",
            label: "Indonesia (id)"
        }, {
            value: "iw-il",
            label: "Israel (iw)"
        }, {
            value: "ga-ie",
            label: "Ireland (ga)"
        }, {
            value: "hi-in",
            label: "India (hi)"
        }, {
            value: "is-is",
            label: "Iceland (is)"
        }, {
            value: "ja-jp",
            label: "Japan (ja)"
        }, {
            value: "jp-jp",
            label: "Japan (ja - japanese alphabet)"
        }, {
            value: "sw-ke",
            label: "Kenya (sw)"
        }, {
            value: "sw-tz",
            label: "Tanzania (sw)"
        }, {
            value: "sw-ug",
            label: "Uganda (sw)"
        }, {
            value: "ko-kr",
            label: "South Korea (ko)"
        }, {
            value: "si-lk",
            label: "Sri Lanka (si)"
        }, {
            value: "ta-lk",
            label: "Sri Lanka (ta)"
        }, {
            value: "ta-sg",
            label: "Singapore (ta)"
        }, {
            value: "lt-lt",
            label: "Lithuania (lt)"
        }, {
            value: "lv-lv",
            label: "Latvia (lv)"
        }, {
            value: "uk-md",
            label: "Moldova (uk)"
        }, {
            value: "uk-ua",
            label: "Ukraine (uk)"
        }, {
            value: "ro-md",
            label: "Moldova (ro)"
        }, {
            value: "ro-ro",
            label: "Romania (ro)"
        }, {
            value: "mk-mk",
            label: "Macedonia (mk)"
        }, {
            value: "mt-mt",
            label: "Malta (mt)"
        }, {
            value: "nn-no",
            label: "Norway (nn)"
        }, {
            value: "no-no",
            label: "Norway (no)"
        }, {
            value: "ne-np",
            label: "Nepal (ne)"
        }, {
            value: "tl-ph",
            label: "Philippines (tl)"
        }, {
            value: "ur-pk",
            label: "Pakistan (ur)"
        }, {
            value: "pl-pl",
            label: "Poland (pl)"
        }, {
            value: "sl-si",
            label: "Slovenia (sl)"
        }, {
            value: "sk-sk",
            label: "Slovakia (sk)"
        }, {
            value: "th-th",
            label: "Thailand (th)"
        }, {
            value: "uz-uz",
            label: "Uzbekistan (uz)"
        }, {
            value: "vi-vn",
            label: "Vietnam (vi)"
        }, {
            value: "zu-za",
            label: "South Africa (zu)"
        }, {
            value: "xh-za",
            label: "South Africa (xh)"
        }, {
            value: "af-za'",
            label: "Afghanistan (af)"
        }, {
            value: "zh-cn'",
            label: "China (zh)"
        }],
        selectedurl:"",
        variations : [],
        makeRequest : function(kw,country){
            this.selectedurl = country;
            c = this.selectedurl.split("-");
            curl =  this.urls[c[1]];

            if($("#placement").val() == 'all')
                this.variations = sugguestion.variations;
            else if($("#placement").val() == 'prefix')
                this.variations = sugguestion.variationsprefix;
            else if($("#placement").val() == 'regex')
                this.variations = sugguestion.alphabets;
            else 
                this.variations = sugguestion.variationspostfix;

        
            var v = this.variations;
            var pro=1;
            for(i = 0; i < v.length; i++){
                if($("#placement").val() == 'regex') {
                    keyword = kw.replace("*",v[i]);
                }
                else{
                    keyword = v[i].replace("{{keyword}}",kw);
                }
                var url =  'https://www.'+curl+'/complete/search?client=serp&hl=en&q='+keyword;
                $.ajax({
                    url:url,
                    type:"POST",
                    dataType:'jsonp',
                    success:function(data){
                        sugguestion.updatProgressBar(pro,v.length);
                        pro++;
                        sugguestion.Google.placeResponse(data);
                    },
                    error:function(xhr, status, data){ 
                        alert(xhr.responseText);
                    },
                    complete: function(){
                        
                        if(pro > v.length){
                            sugguestion.finish([]);    
                        }
                        
                    }
                });
                
            }
        },
        placeResponse: function(data){
            
            r = data[1];
            for(i = 0; i < r.length; i++){
                kw = r[i][0];
                kw = kw.replace(/(<([^>]+)>)/ig,"");
                sugguestion.response[sugguestion.response.length] = kw;
            }

        }

        
    },
    Amazon : {
        property: "amazon",
        urls: {
            "en-us": "completion.amazon.com/search/complete?method=completion&mkt=1&client=amazon-search-ui&search-alias=aps",
            "en-ca": "completion.amazon.com/search/complete?method=completion&mkt=7&client=amazon-search-ui&search-alias=aps",
            "en-uk": "completion.amazon.co.uk/search/complete?method=completion&mkt=3&client=amazon-search-ui&search-alias=aps",
            "en-au": "completion.amazon.co.jp/search/complete?method=completion&mkt=111172&client=amazon-search-ui&search-alias=aps",
            "de-de": "completion.amazon.co.uk/search/complete?method=completion&mkt=4&client=amazon-search-ui&search-alias=aps",
            "fr-fr": "completion.amazon.co.uk/search/complete?method=completion&mkt=5&client=amazon-search-ui&search-alias=aps",
            "mx-es": "completion.amazon.com/search/complete?method=completion&mkt=771770&client=amazon-search-ui&search-alias=aps",
            "es-es": "completion.amazon.co.uk/search/complete?method=completion&mkt=44551&client=amazon-search-ui&search-alias=aps",
            "it-it": "completion.amazon.co.uk/search/complete?method=completion&mkt=35691&client=amazon-search-ui&search-alias=aps",
            "nl-nl": "completion.amazon.co.uk/search/complete?method=completion&mkt=328451&client=amazon-search-ui&search-alias=aps",
            "pt-br": "completion.amazon.com/search/complete?method=completion&mkt=526970&client=amazon-search-ui&search-alias=aps",
            "jp-jp": "completion.amazon.co.jp/search/complete?method=completion&mkt=6&client=amazon-search-ui&search-alias=aps",
            "ja-jp": "completion.amazon.co.jp/search/complete?method=completion&mkt=6&client=amazon-search-ui&search-alias=aps",
            "cn-cn": "completion.amazon.cn/search/complete?method=completion&mkt=3240&client=amazon-search-ui&search-alias=aps",
            "in-en": "completion.amazon.co.uk/search/complete?method=completion&mkt=44571&client=amazon-search-ui&search-alias=aps"
        },
        countries: [{
            value: "en-us",
            label: "USA (english)"
        }, {
            value: "en-ca",
            label: "Canada (english)"
        }, {
            value: "en-uk",
            label: "United Kingdom (english)"
        }, {
            value: "en-au",
            label: "Australia (english)"
        }, {
            value: "in-en",
            label: "India (english)"
        }, {
            value: "de-de",
            label: "Germany (german)"
        }, {
            value: "fr-fr",
            label: "France (french)"
        }, {
            value: "es-es",
            label: "Spain (spanish)"
        }, {
            value: "mx-es",
            label: "Mexico (spanish)"
        }, {
            value: "it-it",
            label: "Italy (italian)"
        }, {
            value: "nl-nl",
            label: "Netherlands (dutch)"
        }, {
            value: "pt-br",
            label: "Brasil (portugese)"
        }, {
            value: "ja-jp",
            label: "Japan (japanese - latin alphabet)"
        }, {
            value: "jp-jp",
            label: "Japan (japanese - japanese alphabet)"
        }, {
            value: "cn-cn",
            label: "China (chinese)"
        }],
        selectedurl:"",
        variations : [],
        makeRequest : function(kw,country){
            this.selectedurl = country;
            curl =  this.urls[this.selectedurl];
            if($("#placement").val() == 'all')
                this.variations = sugguestion.variations;
            else if($("#placement").val() == 'prefix')
                this.variations = sugguestion.variationsprefix;
            else if($("#placement").val() == 'regex')
                this.variations = sugguestion.alphabets;
            else 
                this.variations = sugguestion.variationspostfix;

            var v = this.variations;
            var pro=1;
            for(i = 0; i < v.length; i++){
                if($("#placement").val() == 'regex') {
                    keyword = kw.replace("*",v[i]);
                }
                else{
                    keyword = v[i].replace("{{keyword}}",kw);
                }
                
                keyword = keyword.replace(" ","%20");
                var url =  'https://'+curl+"&q="+keyword;
                $.ajax({
                    url:url,
                    type:"POST",
                    dataType:'jsonp',
                    success:function(data){
                        sugguestion.updatProgressBar(pro,v.length);
                        pro++;
                        sugguestion.Amazon.placeResponse(data);
                    },
                    error:function(xhr, status, data){ 
                        alert(xhr.responseText);
                    },
                    complete: function(){
                        if(pro > v.length){
                            sugguestion.finish([]);    
                        }
                        
                    }          
                });
            }
        },
        placeResponse: function(data){
            r = data[1];
            for(i = 0; i < r.length; i++){
                kw = r[i];
                kw = kw.replace(/(<([^>]+)>)/ig,"");
                sugguestion.response[sugguestion.response.length] = kw;
            }
        }      
    },
    Ebay : {
        property: "ebay",
        urls: {
            "en-us": "0",
            "en-ca": "2",
            "en-uk": "3",
            "en-in": "203",
            "de-de": "77",
            "fr-fr": "73",
            "it-it": "101"
        },
        countries: [{
            value: "en-us",
            label: "USA (english)"
        }, {
            value: "en-uk",
            label: "United Kingdom (english)"
        }, {
            value: "en-ca",
            label: "Canada (english)"
        }, {
            value: "en-in",
            label: "India (english)"
        }, {
            value: "de-de",
            label: "Germany (german)"
        }, {
            value: "fr-fr",
            label: "France (french)"
        }, {
            value: "it-it",
            label: "Italy (italian)"
        }],
        
        selectedurl:"",
        variations : [],
        makeRequest : function(kw,country){
            this.selectedurl = country;
            curl =  this.urls[this.selectedurl];
            if($("#placement").val() == 'all')
                this.variations = sugguestion.variations;
            else if($("#placement").val() == 'prefix')
                this.variations = sugguestion.variationsprefix;
            else if($("#placement").val() == 'regex')
                this.variations = sugguestion.alphabets;
            else 
                this.variations = sugguestion.variationspostfix;

            var v = this.variations;
            var pro=1;
            $("#response").html('');
            for(i = 0; i < v.length; i++){

                if($("#placement").val() == 'regex') {
                    keyword = kw.replace("*",v[i]);
                }
                else{
                    keyword = v[i].replace("{{keyword}}",kw);
                }
                keyword = keyword.replace(" ","%20");
                var url =  "https://autosug.ebaystatic.com/autosug?sId=" + curl+"&kwd="+keyword;
               
                $.ajax({
                    url:url,
                    type:"POST",
                    dataType:'jsonp',
                    success:function(data){
                        sugguestion.updatProgressBar(pro,v.length);
                        pro++;
                        sugguestion.Ebay.placeResponse(data);
                    },
                    error:function(xhr, status, data){ 
                        alert(xhr.responseText);
                    },
                    complete: function(){
                        if(pro > v.length){
                            sugguestion.finish([]);    
                        } 
                    }           
                });
            }
        },
        placeResponse: function(data){
            if(typeof data.res !== 'undefined'){
                r = data.res.sug;
                for(i = 0; i < r.length; i++){
                    kw = r[i];
                    kw = kw.replace(/(<([^>]+)>)/ig,"");
                    sugguestion.response[sugguestion.response.length] = kw;
                }
            }

            
        }
    },
    Youtube : {
        property: "youtube",
        urls: {
            ad: "google.ad",
            ae: "google.ae",
            al: "google.al",
            am: "google.am",
            as: "google.as",
            at: "google.at",
            az: "google.az",
            ba: "google.ba",
            be: "google.be",
            bf: "google.bf",
            bg: "google.bg",
            bi: "google.bi",
            bj: "google.bj",
            bs: "google.bs",
            bt: "google.bt",
            by: "google.by",
            ca: "google.ca",
            cat: "google.cat",
            cd: "google.cd",
            cf: "google.cf",
            cg: "google.cg",
            ch: "google.ch",
            ci: "google.ci",
            cl: "google.cl",
            cm: "google.cm",
            cn: "google.cn",
            ao: "google.co.ao",
            bw: "google.co.bw",
            ck: "google.co.ck",
            cr: "google.co.cr",
            id: "google.co.id",
            il: "google.co.il",
            "in": "google.co.in",
            jp: "google.co.jp",
            ke: "google.co.ke",
            kr: "google.co.kr",
            ls: "google.co.ls",
            ma: "google.co.ma",
            mz: "google.co.mz",
            nz: "google.co.nz",
            th: "google.co.th",
            tz: "google.co.tz",
            ug: "google.co.ug",
            uk: "google.co.uk",
            uz: "google.co.uz",
            ve: "google.co.ve",
            vi: "google.co.vi",
            za: "google.co.za",
            zm: "google.co.zm",
            zw: "google.co.zw",
            us: "google.com",
            af: "google.com.af",
            ag: "google.com.ag",
            ai: "google.com.ai",
            ar: "google.com.ar",
            au: "google.com.au",
            bd: "google.com.bd",
            bh: "google.com.bh",
            bn: "google.com.bn",
            bo: "google.com.bo",
            br: "google.com.br",
            bz: "google.com.bz",
            co: "google.com.co",
            cu: "google.com.cu",
            cy: "google.com.cy",
            "do": "google.com.do",
            ec: "google.com.ec",
            eg: "google.com.eg",
            et: "google.com.et",
            fj: "google.com.fj",
            gh: "google.com.gh",
            gi: "google.com.gi",
            gt: "google.com.gt",
            hk: "google.com.hk",
            jm: "google.com.jm",
            kh: "google.com.kh",
            kw: "google.com.kw",
            lb: "google.com.lb",
            ly: "google.com.ly",
            mm: "google.com.mm",
            mt: "google.com.mt",
            mx: "google.com.mx",
            my: "google.com.my",
            na: "google.com.na",
            nf: "google.com.nf",
            ng: "google.com.ng",
            ni: "google.com.ni",
            np: "google.com.np",
            om: "google.com.om",
            pa: "google.com.pa",
            pe: "google.com.pe",
            pg: "google.com.pg",
            ph: "google.com.ph",
            pk: "google.com.pk",
            pr: "google.com.pr",
            py: "google.com.py",
            qa: "google.com.qa",
            sa: "google.com.sa",
            sb: "google.com.sb",
            sg: "google.com.sg",
            sl: "google.com.sl",
            sv: "google.com.sv",
            tj: "google.com.tj",
            tr: "google.com.tr",
            tw: "google.com.tw",
            ua: "google.com.ua",
            uy: "google.com.uy",
            vc: "google.com.vc",
            vn: "google.com.vn",
            cv: "google.cv",
            cz: "google.cz",
            de: "google.de",
            dj: "google.dj",
            dk: "google.dk",
            dm: "google.dm",
            dz: "google.dz",
            ee: "google.ee",
            es: "google.es",
            fi: "google.fi",
            fm: "google.fm",
            fr: "google.fr",
            ga: "google.ga",
            ge: "google.ge",
            gg: "google.gg",
            gl: "google.gl",
            gm: "google.gm",
            gp: "google.gp",
            gr: "google.gr",
            gy: "google.gy",
            hn: "google.hn",
            hr: "google.hr",
            ht: "google.ht",
            hu: "google.hu",
            ie: "google.ie",
            im: "google.im",
            iq: "google.iq",
            is: "google.is",
            it: "google.it",
            je: "google.je",
            jo: "google.jo",
            kg: "google.kg",
            ki: "google.ki",
            kz: "google.kz",
            la: "google.la",
            li: "google.li",
            lk: "google.lk",
            lt: "google.lt",
            lu: "google.lu",
            lv: "google.lv",
            md: "google.md",
            me: "google.me",
            mg: "google.mg",
            mk: "google.mk",
            ml: "google.ml",
            mn: "google.mn",
            ms: "google.ms",
            mu: "google.mu",
            mv: "google.mv",
            mw: "google.mw",
            ne: "google.ne",
            nl: "google.nl",
            no: "google.no",
            nr: "google.nr",
            nu: "google.nu",
            pl: "google.pl",
            pn: "google.pn",
            ps: "google.ps",
            pt: "google.pt",
            ro: "google.ro",
            rs: "google.rs",
            ru: "google.ru",
            rw: "google.rw",
            sc: "google.sc",
            se: "google.se",
            sh: "google.sh",
            si: "google.si",
            sk: "google.sk",
            sm: "google.sm",
            sn: "google.sn",
            so: "google.so",
            st: "google.st",
            td: "google.td",
            tg: "google.tg",
            tk: "google.tk",
            tl: "google.tl",
            tm: "google.tm",
            tn: "google.tn",
            to: "google.to",
            tt: "google.tt",
            vg: "google.vg",
            vu: "google.vu",
            ws: "google.ws"
        },
        countries: [{
            value: "en-us",
            label: "United States (en)"
        }, {
            value: "en-uk",
            label: "United Kingdom (en)"
        }, {
            value: "en-ca",
            label: "Canada (en)"
        }, {
            value: "en-au",
            label: "Australia (en)"
        }, {
            value: "en-nz",
            label: "New Zealand (en)"
        }, {
            value: "en-ag",
            label: "Antigua and Barbuda (en)"
        }, {
            value: "en-ai",
            label: "Anguilla (en)"
        }, {
            value: "en-as",
            label: "American Samoa (en)"
        }, {
            value: "en-bs",
            label: "Bahamas (en)"
        }, {
            value: "en-bw",
            label: "Botswana (en)"
        }, {
            value: "en-bz",
            label: "Belize (en)"
        }, {
            value: "en-ck",
            label: "Cook Islands (en)"
        }, {
            value: "en-cm",
            label: "Cameroon (en)"
        }, {
            value: "en-dm",
            label: "Dominica (en)"
        }, {
            value: "en-fj",
            label: "Fiji (en)"
        }, {
            value: "en-fm",
            label: "Federated States of Micronesia (en)"
        }, {
            value: "en-gg",
            label: "Guernsey (en)"
        }, {
            value: "en-gh",
            label: "Ghana (en)"
        }, {
            value: "en-gi",
            label: "Gibraltar (en)"
        }, {
            value: "en-gm",
            label: "Gambia (en)"
        }, {
            value: "en-gy",
            label: "Guyana (en)"
        }, {
            value: "en-hk",
            label: "Hong Kong (en)"
        }, {
            value: "en-ie",
            label: "Ireland (en)"
        }, {
            value: "en-il",
            label: "Israel (en)"
        }, {
            value: "en-im",
            label: "Isle of Man (en)"
        }, {
            value: "en-in",
            label: "India (en)"
        }, {
            value: "en-je",
            label: "Jersey (en)"
        }, {
            value: "en-jm",
            label: "Jamaica (en)"
        }, {
            value: "en-ke",
            label: "Kenya (en)"
        }, {
            value: "en-ki",
            label: "Kiribati (en)"
        }, {
            value: "en-kr",
            label: "South Korea (en)"
        }, {
            value: "en-ls",
            label: "Lesotho (en)"
        }, {
            value: "en-ms",
            label: "Montserrat (en)"
        }, {
            value: "en-mt",
            label: "Malta (en)"
        }, {
            value: "en-mu",
            label: "Mauritius (en)"
        }, {
            value: "en-mw",
            label: "Malawi (en)"
        }, {
            value: "en-na",
            label: "Namibia (en)"
        }, {
            value: "en-nf",
            label: "Norfolk Island (en)"
        }, {
            value: "en-ng",
            label: "Nigeria (en)"
        }, {
            value: "en-nr",
            label: "Nauru (en)"
        }, {
            value: "en-nu",
            label: "Niue (en)"
        }, {
            value: "en-pg",
            label: "Papua New Guinea (en)"
        }, {
            value: "en-ph",
            label: "Philippines (en)"
        }, {
            value: "en-pk",
            label: "Pakistan (en)"
        }, {
            value: "en-pn",
            label: "Pitcairn Islands (en)"
        }, {
            value: "en-pr",
            label: "Puerto Rico (en)"
        }, {
            value: "en-rw",
            label: "Rwanda (en)"
        }, {
            value: "en-sb",
            label: "Solomon Islands (en)"
        }, {
            value: "en-sc",
            label: "Seychelles (en)"
        }, {
            value: "en-sg",
            label: "Singapore (en)"
        }, {
            value: "en-sh",
            label: "Saint Helena, Ascension and Tristan da Cunha (en)"
        }, {
            value: "en-sl",
            label: "Sierra Leone (en)"
        }, {
            value: "en-tk",
            label: "Tokelau (en)"
        }, {
            value: "en-to",
            label: "Tonga (en)"
        }, {
            value: "en-tt",
            label: "Trinidad and Tobago (en)"
        }, {
            value: "en-tz",
            label: "Tanzania (en)"
        }, {
            value: "en-ug",
            label: "Uganda (en)"
        }, {
            value: "en-vc",
            label: "Saint Vincent and the Grenadines (en)"
        }, {
            value: "en-vg",
            label: "British Virgin Islands (en)"
        }, {
            value: "en-vi",
            label: "United States Virgin Islands (en)"
        }, {
            value: "en-vu",
            label: "Vanuatu (en)"
        }, {
            value: "en-ws",
            label: "Samoa (en)"
        }, {
            value: "en-za",
            label: "South Africa (en)"
        }, {
            value: "en-zm",
            label: "Zambia (en)"
        }, {
            value: "en-zw",
            label: "Zimbabwe (en)"
        }, {
            value: "de-de",
            label: "Germany (de)"
        }, {
            value: "de-at",
            label: "Austria (de)"
        }, {
            value: "de-ch",
            label: "Switzerland (de)"
        }, {
            value: "de-be",
            label: "Belgium (de)"
        }, {
            value: "de-it",
            label: "Italy (de)"
        }, {
            value: "de-li",
            label: "Liechtenstein (de)"
        }, {
            value: "de-lu",
            label: "Luxembourg (de)"
        }, {
            value: "de-na",
            label: "Namibia (de)"
        }, {
            value: "ru-ru",
            label: "Russia (ru)"
        }, {
            value: "ru-by",
            label: "Belarus (ru)"
        }, {
            value: "ru-kg",
            label: "Kyrgyzstan (ru)"
        }, {
            value: "ru-kz",
            label: "Kazakhstan (ru)"
        }, {
            value: "ru-md",
            label: "Moldova (ru)"
        }, {
            value: "ru-tj",
            label: "Tajikistan (ru)"
        }, {
            value: "fr-fr",
            label: "France (fr)"
        }, {
            value: "fr-ca",
            label: "Canada (fr)"
        }, {
            value: "fr-be",
            label: "Belgium (fr)"
        }, {
            value: "fr-bf",
            label: "Burkina Faso (fr)"
        }, {
            value: "fr-bi",
            label: "Burundi (fr)"
        }, {
            value: "fr-bj",
            label: "Benin (fr)"
        }, {
            value: "fr-cd",
            label: "Democratic Republic of the Congo (fr)"
        }, {
            value: "fr-cf",
            label: "Central African Republic (fr)"
        }, {
            value: "fr-cg",
            label: "Republic of the Congo (fr)"
        }, {
            value: "fr-ch",
            label: "Switzerland (fr)"
        }, {
            value: "fr-ci",
            label: "Ivory Coast (fr)"
        }, {
            value: "fr-cm",
            label: "Cameroon (fr)"
        }, {
            value: "fr-dj",
            label: "Djibouti (fr)"
        }, {
            value: "fr-ga",
            label: "Gabon (fr)"
        }, {
            value: "fr-gp",
            label: "Guadeloupe (fr)"
        }, {
            value: "fr-ht",
            label: "Haiti (fr)"
        }, {
            value: "fr-it",
            label: "Italy (fr)"
        }, {
            value: "fr-lb",
            label: "Lebanon (fr)"
        }, {
            value: "fr-lu",
            label: "Luxembourg (fr)"
        }, {
            value: "fr-mg",
            label: "Madagascar (fr)"
        }, {
            value: "fr-ml",
            label: "Mali (fr)"
        }, {
            value: "fr-mu",
            label: "Mauritius (fr)"
        }, {
            value: "fr-ne",
            label: "Niger (fr)"
        }, {
            value: "fr-rw",
            label: "Rwanda (fr)"
        }, {
            value: "fr-sc",
            label: "Seychelles (fr)"
        }, {
            value: "fr-sn",
            label: "Senegal (fr)"
        }, {
            value: "fr-td",
            label: "Chad (fr)"
        }, {
            value: "fr-tg",
            label: "Togo (fr)"
        }, {
            value: "fr-vu",
            label: "Vanuatu (fr)"
        }, {
            value: "es-es",
            label: "Spain (es)"
        }, {
            value: "es-ar",
            label: "Argentina (es)"
        }, {
            value: "es-bo",
            label: "Bolivia (es)"
        }, {
            value: "es-cl",
            label: "Chile (es)"
        }, {
            value: "es-co",
            label: "Colombia (es)"
        }, {
            value: "es-cr",
            label: "Costa Rica (es)"
        }, {
            value: "es-cu",
            label: "Cuba (es)"
        }, {
            value: "es-do",
            label: "Dominican Republic (es)"
        }, {
            value: "es-ec",
            label: "Ecuador (es)"
        }, {
            value: "es-gt",
            label: "Guatemala (es)"
        }, {
            value: "es-hn",
            label: "Honduras (es)"
        }, {
            value: "es-mx",
            label: "Mexico (es)"
        }, {
            value: "es-ni",
            label: "Nicaragua (es)"
        }, {
            value: "es-pa",
            label: "Panama (es)"
        }, {
            value: "es-pe",
            label: "Peru (es)"
        }, {
            value: "es-pr",
            label: "Puerto Rico (es)"
        }, {
            value: "es-py",
            label: "Paraguay (es)"
        }, {
            value: "es-sv",
            label: "El Salvador (es)"
        }, {
            value: "es-uy",
            label: "Uruguay (es)"
        }, {
            value: "es-ve",
            label: "Venezuela (es)"
        }, {
            value: "ar-ae",
            label: "United Arab Emirates (ar)"
        }, {
            value: "ar-bh",
            label: "Bahrain (ar)"
        }, {
            value: "ar-dj",
            label: "Djibouti (ar)"
        }, {
            value: "ar-dz",
            label: "Algeria (ar)"
        }, {
            value: "ar-eg",
            label: "Egypt (ar)"
        }, {
            value: "ar-iq",
            label: "Iraq (ar)"
        }, {
            value: "ar-jo",
            label: "Jordan (ar)"
        }, {
            value: "ar-kw",
            label: "Kuwait (ar)"
        }, {
            value: "ar-lb",
            label: "Lebanon (ar)"
        }, {
            value: "ar-ly",
            label: "Libya (ar)"
        }, {
            value: "ar-ma",
            label: "Morocco (ar)"
        }, {
            value: "ar-om",
            label: "Oman (ar)"
        }, {
            value: "ar-ps",
            label: "Palestine (ar)"
        }, {
            value: "ar-qa",
            label: "Qatar (ar)"
        }, {
            value: "ar-sa",
            label: "Saudi Arabia (ar)"
        }, {
            value: "ar-so",
            label: "Somalia (ar)"
        }, {
            value: "ar-td",
            label: "Chad (ar)"
        }, {
            value: "ar-tn",
            label: "Tunisia (ar)"
        }, {
            value: "it-ch",
            label: "Switzerland (it)"
        }, {
            value: "it-it",
            label: "Italy (it)"
        }, {
            value: "it-sm",
            label: "San Marino (it)"
        }, {
            value: "nl-nl",
            label: "Netherlands (nl)"
        }, {
            value: "nl-be",
            label: "Belgium (nl)"
        }, {
            value: "ca-ad",
            label: "Andorra (ca)"
        }, {
            value: "ca-es",
            label: "Spain (ca)"
        }, {
            value: "pt-pt",
            label: "Portugal (pt)"
        }, {
            value: "pt-br",
            label: "Brazil (pt)"
        }, {
            value: "fa-af",
            label: "Afghanistan (fa)"
        }, {
            value: "sq-al",
            label: "Albania (sq)"
        }, {
            value: "sq-me",
            label: "Montenegro (sq)"
        }, {
            value: "sm-as",
            label: "American Samoa (sm)"
        }, {
            value: "sm-tk",
            label: "Tokelau (sm)"
        }, {
            value: "sm-ws",
            label: "Samoa (sm)"
        }, {
            value: "az-az",
            label: "Azerbaijan (az)"
        }, {
            value: "bs-ba",
            label: "Bosnia and Herzegovina (bs)"
        }, {
            value: "bs-me",
            label: "Montenegro (bs)"
        }, {
            value: "hr-ba",
            label: "Bosnia and Herzegovina (hr)"
        }, {
            value: "hr-hr",
            label: "Croatia (hr)"
        }, {
            value: "hr-me",
            label: "Montenegro (hr)"
        }, {
            value: "sr-ba",
            label: "Bosnia and Herzegovina (sr)"
        }, {
            value: "sr-me",
            label: "Montenegro (sr)"
        }, {
            value: "sr-rs",
            label: "Serbia (sr)"
        }, {
            value: "bn-bd",
            label: "Bangladesh (bn)"
        }, {
            value: "bg-bg",
            label: "Bulgaria (bg)"
        }, {
            value: "ms-bn",
            label: "Brunei (ms)"
        }, {
            value: "ms-my",
            label: "Malaysia (ms)"
        }, {
            value: "ms-sg",
            label: "Singapore (ms)"
        }, {
            value: "be-by",
            label: "Belarus (be)"
        }, {
            value: "el-cy",
            label: "Cyprus (el)"
        }, {
            value: "el-gr",
            label: "Greece (el)"
        }, {
            value: "tr-cy",
            label: "Cyprus (tr)"
        }, {
            value: "tr-tr",
            label: "Turkey (tr)"
        }, {
            value: "cs-cz",
            label: "Czech Republic (cs)"
        }, {
            value: "da-dk",
            label: "Denmark (da)"
        }, {
            value: "da-gl",
            label: "Greenland (da)"
        }, {
            value: "et-ee",
            label: "Estonia (et)"
        }, {
            value: "eu-es",
            label: "Spain (eu)"
        }, {
            value: "gl-es",
            label: "Spain (gl)"
        }, {
            value: "fi-fi",
            label: "Finland (fi)"
        }, {
            value: "sv-fi",
            label: "Finland (sv)"
        }, {
            value: "sv-se",
            label: "Sweden (sv)"
        }, {
            value: "ka-ge",
            label: "Georgia (ka)"
        }, {
            value: "hu-hu",
            label: "Hungary (hu)"
        }, {
            value: "id-id",
            label: "Indonesia (id)"
        }, {
            value: "iw-il",
            label: "Israel (iw)"
        }, {
            value: "ga-ie",
            label: "Ireland (ga)"
        }, {
            value: "hi-in",
            label: "India (hi)"
        }, {
            value: "is-is",
            label: "Iceland (is)"
        }, {
            value: "ja-jp",
            label: "Japan (ja)"
        }, {
            value: "jp-jp",
            label: "Japan (ja - japanese alphabet)"
        }, {
            value: "sw-ke",
            label: "Kenya (sw)"
        }, {
            value: "sw-tz",
            label: "Tanzania (sw)"
        }, {
            value: "sw-ug",
            label: "Uganda (sw)"
        }, {
            value: "ko-kr",
            label: "South Korea (ko)"
        }, {
            value: "si-lk",
            label: "Sri Lanka (si)"
        }, {
            value: "ta-lk",
            label: "Sri Lanka (ta)"
        }, {
            value: "ta-sg",
            label: "Singapore (ta)"
        }, {
            value: "lt-lt",
            label: "Lithuania (lt)"
        }, {
            value: "lv-lv",
            label: "Latvia (lv)"
        }, {
            value: "uk-md",
            label: "Moldova (uk)"
        }, {
            value: "uk-ua",
            label: "Ukraine (uk)"
        }, {
            value: "ro-md",
            label: "Moldova (ro)"
        }, {
            value: "ro-ro",
            label: "Romania (ro)"
        }, {
            value: "mk-mk",
            label: "Macedonia (mk)"
        }, {
            value: "mt-mt",
            label: "Malta (mt)"
        }, {
            value: "nn-no",
            label: "Norway (nn)"
        }, {
            value: "no-no",
            label: "Norway (no)"
        }, {
            value: "ne-np",
            label: "Nepal (ne)"
        }, {
            value: "tl-ph",
            label: "Philippines (tl)"
        }, {
            value: "ur-pk",
            label: "Pakistan (ur)"
        }, {
            value: "pl-pl",
            label: "Poland (pl)"
        }, {
            value: "sl-si",
            label: "Slovenia (sl)"
        }, {
            value: "sk-sk",
            label: "Slovakia (sk)"
        }, {
            value: "th-th",
            label: "Thailand (th)"
        }, {
            value: "uz-uz",
            label: "Uzbekistan (uz)"
        }, {
            value: "vi-vn",
            label: "Vietnam (vi)"
        }, {
            value: "zu-za",
            label: "South Africa (zu)"
        }, {
            value: "xh-za",
            label: "South Africa (xh)"
        }, {
            value: "af-za'",
            label: "Afghanistan (af)"
        }, {
            value: "zh-cn'",
            label: "China (zh)"
        }],
        selectedurl:"",
        variations : [],
        makeRequest : function(kw,country){
            this.selectedurl = country;
            c = this.selectedurl.split("-");
            curl =  this.urls[c[1]];
            
            if($("#placement").val() == 'all')
                this.variations = sugguestion.variations;
            else if($("#placement").val() == 'prefix')
                this.variations = sugguestion.variationsprefix;
            else if($("#placement").val() == 'regex')
                this.variations = sugguestion.alphabets;
            else 
                this.variations = sugguestion.variationspostfix;

            var v = this.variations;
            var pro=1;
            for(i = 0; i < v.length; i++){
                if($("#placement").val() == 'regex') {
                    keyword = kw.replace("*",v[i]);
                }
                else{
                    keyword = v[i].replace("{{keyword}}",kw);
                }
                //keyword = keyword.replace(" ","%20");
                var url =  'https://www.'+curl+'/complete/search?client=serp&hl=en&q='+keyword;
                $.ajax({
                    url:url,
                    type:"POST",
                    dataType:'jsonp',
                    success:function(data){
                        sugguestion.updatProgressBar(pro,v.length);
                        pro++;
                        sugguestion.Youtube.placeResponse(data);
                    },
                    error:function(xhr, status, data){ 
                        alert(xhr.responseText);
                    },
                    complete: function(){
                        if(pro > v.length){
                            sugguestion.finish([]);    
                        }
                        
                    }          
                });
            }
        },
        placeResponse: function(data){
            r = data[1];
            for(i = 0; i < r.length; i++){
                kw = r[i][0];
                kw = kw.replace(/(<([^>]+)>)/ig,"");

                sugguestion.response[sugguestion.response.length] = kw;
            }
        }
        
    },
    placeCountries: function(engine){
        if(engine == "google"){
            countries = sugguestion.Google.countries;   
        }else if(engine == "youtube"){
            countries = sugguestion.Youtube.countries;   
        }else if(engine == "amazon"){
            countries = sugguestion.Amazon.countries;   
            
        }else if(engine == "ebay"){
            countries = sugguestion.Ebay.countries; 
        }
        select = "";
        for(i = 0; i < countries.length; i++){
            select += "<option value="+countries[i].value+">"+countries[i].label+"</option>";
                
        }
        $("#counties").html(select);
    },
    makeRequest: function(engine,callback){
        kw = $("#skey").val();
        if(kw == "") {
            $("#skey").focus();
            return;
        }
        $("#response").html('');
        this.response = [];
        $(".progress").show();
        
        $(".progress-bar").css("width","0%"); 
        $("#selected").text("0 Selected");
        $("#total").text("0 Found");

        co = $("#counties").val();
        if(engine == "google"){
            this.Google.makeRequest(kw,co);
        }else if(engine == "youtube"){
            this.Youtube.makeRequest(kw,co);
        }else if(engine == "amazon"){
            this.Amazon.makeRequest(kw,co);
        }else if(engine == "ebay"){
            this.Ebay.makeRequest(kw,co);
        }
    },
    finish: function(arr){
        if(arr.length == 0){
            kw = this.response;
        }else {
            kw = arr;
        }
        this.html = "";
        var unique = kw.filter(function(elem, index, self) {
            return index == self.indexOf(elem);
        });
        unique.sort();
        for(i = 0; i < unique.length; i++){
            this.html += '<li class="list-group-item"> <span><input  type="checkbox" value="'+unique[i]+'" class="pull-left hover" name="kewyord[]"></span>&nbsp;&nbsp;&nbsp;'+unique[i]+'</li>' ;        }
        $("#response").html(this.html);
        //$('input').iCheck({checkboxClass: 'icheckbox_square-blue',radioClass: 'iradio_square-blue',     increaseArea: '20%'});
                
        $("#total").text(unique.length+" Found");
        //$(".progress").hide();
        
    },
    updatProgressBar: function(i,length){
        vi = 100 / length;
        width = Math.ceil((i)*vi);
        $(".progress-bar").css("width",width+"%"); 
    },
    response: [],
    html:"",
    variations: [
                    "{{keyword}} a",
                    "{{keyword}} b",
                    "{{keyword}} c",
                    "{{keyword}} d",
                    "{{keyword}} e",
                    "{{keyword}} f",
                    "{{keyword}} g",
                    "{{keyword}} h",
                    "{{keyword}} i",
                    "{{keyword}} j",
                    "{{keyword}} k",
                    "{{keyword}} l",
                    "{{keyword}} m",
                    "{{keyword}} n",
                    "{{keyword}} o",
                    "{{keyword}} p",
                    "{{keyword}} q",
                    "{{keyword}} r",
                    "{{keyword}} s",
                    "{{keyword}} t",
                    "{{keyword}} u",
                    "{{keyword}} v",
                    "{{keyword}} w",
                    "{{keyword}} x",
                    "{{keyword}} y",
                    "{{keyword}} z",
                    "a {{keyword}}",
                    "b {{keyword}}",
                    "c {{keyword}}",
                    "d {{keyword}}",
                    "e {{keyword}}",
                    "f {{keyword}}",
                    "g {{keyword}}",
                    "h {{keyword}}",
                    "i {{keyword}}",
                    "j {{keyword}}",
                    "k {{keyword}}",
                    "l {{keyword}}",
                    "m {{keyword}}",
                    "n {{keyword}}",
                    "o {{keyword}}",
                    "p {{keyword}}",
                    "q {{keyword}}",
                    "r {{keyword}}",
                    "s {{keyword}}",
                    "t {{keyword}}",
                    "u {{keyword}}",
                    "v {{keyword}}",
                    "w {{keyword}}",
                    "x {{keyword}}",
                    "y {{keyword}}",
                    "z {{keyword}}",
                    "top ranking {{keyword}}",
                    "how {{keyword}}",
                    "why {{keyword}}",
                    "who {{keyword}}",
                    "can {{keyword}}",
                    "what {{keyword}}",
                    "should {{keyword}}",
                    "could {{keyword}}",
                    "will {{keyword}}",
                    "where {{keyword}}",
                    "it {{keyword}}",
                    "best {{keyword}}",
                    "is {{keyword}}",
                    "wrost {{keyword}}",
                    "top {{keyword}}",
                    "when {{keyword}}",
                    "top most {{keyword}}",
                    "did {{keyword}}",
                    "do {{keyword}}",
                    "ws {{keyword}}",
                    "whose {{keyword}}",
                    "must {{keyword}}"
            ],
            variationsprefix: [
                    "{{keyword}} a",
                    "{{keyword}} b",
                    "{{keyword}} c",
                    "{{keyword}} d",
                    "{{keyword}} e",
                    "{{keyword}} f",
                    "{{keyword}} g",
                    "{{keyword}} h",
                    "{{keyword}} i",
                    "{{keyword}} j",
                    "{{keyword}} k",
                    "{{keyword}} l",
                    "{{keyword}} m",
                    "{{keyword}} n",
                    "{{keyword}} o",
                    "{{keyword}} p",
                    "{{keyword}} q",
                    "{{keyword}} r",
                    "{{keyword}} s",
                    "{{keyword}} t",
                    "{{keyword}} u",
                    "{{keyword}} v",
                    "{{keyword}} w",
                    "{{keyword}} x",
                    "{{keyword}} y",
                    "{{keyword}} z"
            ],
            alphabets: [
                    "a",
                    "b",
                    "c",
                    "d",
                    "e",
                    "f",
                    "g",
                    "h",
                    "i",
                    "j",
                    "k",
                    "l",
                    "m",
                    "n",
                    "o",
                    "p",
                    "q",
                    "r",
                    "s",
                    "t",
                    "u",
                    "v",
                    "w",
                    "x",
                    "y",
                    "z"
            ],
            variationspostfix: [
                    "a {{keyword}}",
                    "b {{keyword}}",
                    "c {{keyword}}",
                    "d {{keyword}}",
                    "e {{keyword}}",
                    "f {{keyword}}",
                    "g {{keyword}}",
                    "h {{keyword}}",
                    "i {{keyword}}",
                    "j {{keyword}}",
                    "k {{keyword}}",
                    "l {{keyword}}",
                    "m {{keyword}}",
                    "n {{keyword}}",
                    "o {{keyword}}",
                    "p {{keyword}}",
                    "q {{keyword}}",
                    "r {{keyword}}",
                    "s {{keyword}}",
                    "t {{keyword}}",
                    "u {{keyword}}",
                    "v {{keyword}}",
                    "w {{keyword}}",
                    "x {{keyword}}",
                    "y {{keyword}}",
                    "z {{keyword}}"   
            ]
};

var check = false;
Array.prototype.remove = function() {
    var what, a = arguments, L = a.length, ax;
    while (L && this.length) {
        what = a[--L];
        while ((ax = this.indexOf(what)) !== -1) {
            this.splice(ax, 1);
        }
    }
    return this;
};
function updateTable(){
    pkew = $("#pkew").val();
    nkew = $("#nkeyword").val();
    minkew = $("#minkew").val();
    maxkew = $("#maxkew").val();
    

    if(pkew != ""){ pkew = pkew.trim(); }
    if(nkew != ""){ nkew = nkew.trim(); nkew = nkew.split("\n"); }

    kws = sugguestion.response;
    $("#response").html("");
    arr = [];

    for(i = 0; i < kws.length; i++){
        len = kws[i].split(' ').length;
        if (kws[i].match(pkew) && len >= minkew && len <= maxkew){
            arr[arr.length] = kws[i];
        }
    }
    for(i = 0; i < nkew.length; i++){
        arr.remove(nkew[i]);
    }
    if(arr.length == 0){
        this.html = "";
        this.html += '<li class="list-group-item"> <span>&nbsp;&nbsp;&nbsp;<strong>No keyword matched!</strong></li>' ;
        $("#response").html(this.html);
        return;
    }
    sugguestion.finish(arr);
}
$(document).ready(function(){
    $(".nav-tabs a").on('click',(function(e){
       engine = $(this).attr("data-engine");
       $(".nav-tabs li").removeClass('active');
       $(this).closest('li').toggleClass('active');
       sugguestion.placeCountries(engine);
    }));
    sugguestion.placeCountries(engine);
    $("#srch_btn").on('click',(function(e){
        $("#key_resuts").show();
        sugguestion.makeRequest(engine);
    }));

    $("#pkew").on('keyup',(function(e){
        updateTable();
    }));
    $("#nkeyword").on('keyup',(function(e){
        updateTable();
    }));
    $("#minkew").on('change',(function(e){
        updateTable();
    }));
    $("#maxkew").on('change',(function(e){
        updateTable();
    }));

    $("#select_all").on('click',(function(e){
        if(sugguestion.response.length != 0){
            $("input:checkbox").prop('checked',true);
            count = $("[type='checkbox']:checked").length;
            $("#selected").text(count+" Selected");
        }
    })); 
    $("#clr-all").on('click',(function(e){
        if(sugguestion.response.length != 0){
            $("input:checkbox").prop('checked',false);
            count = $("[type='checkbox']:checked").length;
            $("#selected").text(count+" Selected");
        }
    }));
    
    $(document).on("click", 'input[type="checkbox"]', function(event) { 
        count = $("[type='checkbox']:checked").length;
        $("#selected").text(count+" Selected");
    });
    $(document).on("click", '#copy_keywords', function(event) { 
        var txtData =  '';
        $("#copy_kw_box").val('');
        $("[type='checkbox']:checked").each(function(){
                txtData   +=  $(this).val()+"\n";
        });
        $("#copy_kw_box").val(txtData);
        $("#copy_kw_box").select();
    });
    

    
    $("#download_csv").on('click',(function(e){
        downloadCSV(rand+".csv");
    }));
    $("#download_json").on('click',(function(e){
        downloadJson(rand+".json");
    }));
    $("#download_flat, #download_flat_comma").on('click',(function(e){
        downloadTxt(rand+".txt",$(this).attr("data-format"));
    }));
   
    $("#gen_variation").on('click',(function(e){

        prefix = $("#prefix").val().split("\n");
        postfix = $("#postfix").val().split("\n");
        kws = "";
        for(i = 0; i < prefix.length; i++){
            for(j = 0; j < postfix.length; j++){
                if(prefix[i].trim() != "" && postfix[j].trim() != "")
                    kws += prefix[i].trim() +" "+postfix[j].trim() +"\n";
            }
        }
        $("#vresults").val(kws);
    }));
});

var rand = Math.floor(Math.random() * 20);
function convertArrayOfObjectsToCSV(args) {
    var result, ctr, keys, columnDelimiter, lineDelimiter, data;

    data = args.data || null;
    if (data == null || !data.length) {
        return null;
    }

    columnDelimiter = args.columnDelimiter || ',';
    lineDelimiter = args.lineDelimiter || '\n';

    keys = Object.keys(data[0]);

    result = '';
    result += keys.join(columnDelimiter);
    result += lineDelimiter;

    data.forEach(function(item) {
        ctr = 0;
        keys.forEach(function(key) {
            if (ctr > 0) result += columnDelimiter;

            result += item[key];
            ctr++;
        });
        result += lineDelimiter;
    });
    return result;
}
window.downloadCSV = function(args) {
    var csvData     =  [];
    //getting checked checkbox values
    if($("[type='checkbox']:checked").length > 0){
        $("[type='checkbox']:checked").each(function(){
            dataObject         =  new Object();
            dataObject.Keyword =  $(this).val();
            csvData.push(dataObject);
        });
    }else{
        alert('Please select keywords');
        return;
    }

    var data, filename, link;
    var csv = convertArrayOfObjectsToCSV({
        data: csvData
    });
    if (csv == null) return;
    filename = args.filename || 'export.csv';
    if (!csv.match(/^data:text\/csv/i)) {
        csv     = 'data:text/csv;charset=utf-8,' + csv;
    }
    data  = encodeURI(csv);
    link  = document.createElement('a');
    link.setAttribute('href', data);
    link.setAttribute('download', filename);
    link.click();
}

window.downloadTxt = function(name,format) {
    var txtData =  '';
   
    //getting checked checkbox values
    if($("[type='checkbox']:checked").length > 0){
        $("[type='checkbox']:checked").each(function(){
            txtData   +=  $(this).val()+format;
        });
    }else{
        alert('Please select keywords');
        return;
    }
    var atag      =     document.createElement("a");
    var file      =     new Blob([txtData], {type: 'text/plain'});
    atag.href     =     URL.createObjectURL(file);
    atag.download =     name;
    atag.click();
}

window.downloadJson = function(name) {
    var jsonData =  [];
    //getting checked checkbox values
    if($("[type='checkbox']:checked").length > 0){
        $("[type='checkbox']:checked").each(function(){
            keyword   =  $(this).val();
            jsonData.push(keyword);
        });
    }else{
        alert('Please select keywords');
        return;
    }

    var JsonString =    JSON.stringify(jsonData);
    var atag       =    document.createElement("a");
    var file       =    new Blob([JsonString], {type: 'json'});
    atag.href      =    URL.createObjectURL(file);
    atag.download  =    name;
    atag.click();
}

